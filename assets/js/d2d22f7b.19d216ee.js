/*! For license information please see d2d22f7b.19d216ee.js.LICENSE.txt */
"use strict";(self.webpackChunkhaltdos_wiki=self.webpackChunkhaltdos_wiki||[]).push([[36680],{1278:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/order-cert-84cef2bd3c372c296a1a87009f1d438a.png"},6002:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/console-login-c1a685515af749ce1e07149dbadfccc2.png"},10772:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/resources-ssl-cert-1f3a54c87fa54bd59419117b6a210bf5.png"},21020:(e,n,s)=>{var t=s(96540),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,n,s){var t,r={},d=null,h=null;for(t in void 0!==s&&(d=""+s),void 0!==n.key&&(d=""+n.key),void 0!==n.ref&&(h=n.ref),n)l.call(n,t)&&!o.hasOwnProperty(t)&&(r[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===r[t]&&(r[t]=n[t]);return{$$typeof:i,type:e,key:d,ref:h,props:r,_owner:c.current}}n.Fragment=r,n.jsx=d,n.jsxs=d},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var t=s(96540);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},47790:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/content-part-f6ef8ac556d109f7c17b8bd7a83f9f4b.png"},47966:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/attaching-certs-5e451c04820ae37aa9efe9a4228db44c.png"},58241:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/profile-change-b8ca7a09668a325b064591153fc85d69.png"},74848:(e,n,s)=>{e.exports=s(21020)},76899:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/web-content-dec068d47797f2e909b5fd57fade06d4.png"},85667:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/http-dns-b47d1c92f6ffeec15a58c19f6bf6d6c5.png"},91035:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/verify-ssl-1912e83d063824e82a865cea10d02000.png"},91039:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"kb/waf/kb-1075","title":"KB: 1075","description":"---","source":"@site/docs/kb/waf/kb-1075.md","sourceDirName":"kb/waf","slug":"/kb/waf/kb-1075","permalink":"/kb/waf/kb-1075","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":75,"frontMatter":{"sidebar_position":75},"sidebar":"kb_sidebar","previous":{"title":"KB: 1074","permalink":"/kb/waf/kb-1074"},"next":{"title":"KB: 1076","permalink":"/kb/waf/kb-1076"}}');var i=s(74848),r=s(28453);const l={sidebar_position:75},c="KB: 1075",o={},d=[{value:"<strong>Generate/Issue SSL certificate using Let&#39;s Encrypt</strong>",id:"generateissue-ssl-certificate-using-lets-encrypt",level:3},{value:"<strong>Problem Statement</strong>",id:"problem-statement",level:4},{value:"<strong>Pre-requistics</strong>",id:"pre-requistics",level:4},{value:"<strong>SUMMARY</strong>",id:"summary",level:4},{value:"<strong>Solution</strong>",id:"solution",level:4}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"kb-1075",children:"KB: 1075"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"generateissue-ssl-certificate-using-lets-encrypt",children:(0,i.jsx)(n.strong,{children:"Generate/Issue SSL certificate using Let's Encrypt"})}),"\n",(0,i.jsx)(n.h4,{id:"problem-statement",children:(0,i.jsx)(n.strong,{children:"Problem Statement"})}),"\n",(0,i.jsx)(n.p,{children:"End-user want to issue trusted SSL certificate using Let's Encrypt for FQDN that configured behind the Haltdos WAF to achive below operation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Secure communication between client and WAF over public internet"}),"\n",(0,i.jsx)(n.li,{children:"SSL certificate should be issued from trusted certificate authority"}),"\n",(0,i.jsx)(n.li,{children:"Secure communication using strong SSL protocol and cipher suites"}),"\n",(0,i.jsx)(n.li,{children:"Perform SSL Offloading for WAF inspection over HTTPs"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"pre-requistics",children:(0,i.jsx)(n.strong,{children:"Pre-requistics"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"FQDN (Fully Qualified Domain Name) should be behind Haltdos WAF (for HTTP challenge) and accessible from public internet."}),"\n",(0,i.jsx)(n.li,{children:"Haltdos Console login with minimum READ_WRITE access."}),"\n",(0,i.jsxs)(n.li,{children:["Connectivity based on challenge as follows","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"For HTTP challenge, no geo-filtering policy enforced on the FQDN public IP."}),"\n",(0,i.jsx)(n.li,{children:"For DNS challenge, READ WRITE access to DNS console for create TXT record."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"For HTTP challenge, verify no Geo/IP blocking policy on the network and web application firewall to avoid failure of the verification request."}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Let's Encrypt issue SSL certificate with validity of 3 months from the date of issue."}),"\n"]})]}),"\n",(0,i.jsx)(n.h4,{id:"summary",children:(0,i.jsx)(n.strong,{children:"SUMMARY"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Login to Haltdos Console"}),"\n",(0,i.jsx)(n.li,{children:"Create request to generate SSL certificate for FQDN"}),"\n",(0,i.jsx)(n.li,{children:"Choose Let'ts Encrypt challenge"}),"\n",(0,i.jsx)(n.li,{children:"Changes for HTTP challenge verification"}),"\n",(0,i.jsx)(n.li,{children:"Remove changes after challenge verification"}),"\n",(0,i.jsx)(n.li,{children:"Attach issued SSL certificate"}),"\n",(0,i.jsx)(n.li,{children:"Verify SSL certificate"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"solution",children:(0,i.jsx)(n.strong,{children:"Solution"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Login into Haltdos Console."})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"login-page",src:s(6002).A+"",width:"1904",height:"961"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Stack"})," > ",(0,i.jsx)(n.strong,{children:"Resources"})," > ",(0,i.jsx)(n.strong,{children:"SSL Certificates"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"stack-ssl-certificate",src:s(10772).A+"",width:"1315",height:"972"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Create request to generate SSL certificate for FQDN"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Stack"})," > ",(0,i.jsx)(n.strong,{children:"Resources"})," > ",(0,i.jsx)(n.strong,{children:"SSL Certificate"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Add Certificate"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Enter certificate information as follows:"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Certificate Name"}),": User friendly name of the SSL scertificate"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Accepted Value: String\n\nDefault: Blank\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Certificate Domain"}),": Enter (single or wildcard) FQDN of the SSL certificate."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Accepted Value: String\n\nDefault: Blank\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Example ",(0,i.jsx)(n.strong,{children:"haltdos.com"}),", *",(0,i.jsx)(n.strong,{children:".haltdos.com"})]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scope"}),": Select visibility of the SSL certificate to target resource such as FQDN or ALL."]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Let's Encrypt to generate certificate"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Order Certificate"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"order-certificate",src:s(1278).A+"",width:"1635",height:"937"})}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsx)(n.p,{children:"Keep login session and SSL certificate tab to verify challenge."})]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Choose Let'ts Encrypt challenge"})}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For DNS challenge, login to DNS console and issue provided DNS record."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Login to DNS console"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create TXT record with mentioned name and value."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.p,{children:"TXT record should be create while exclusion root domain name."}),(0,i.jsxs)(n.p,{children:["For example,",(0,i.jsx)(n.br,{}),"\n","TXT Record Name: ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"_acme-challenge.example-xyz.haltdos.com"})}),(0,i.jsx)(n.br,{}),"\n","TXT Record Value: ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"P9-HvCoUm2058"})})]}),(0,i.jsx)(n.p,{children:"For this, we have to create DNS record as follows"}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Record Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Record Name"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Record Value"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"TXT"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"_acme-challenge"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"P9-HvCoUm2058"})]})})]})]}),"\n",(0,i.jsxs)(n.p,{children:["DNS verification can be performed using command prompt or online DNS checker ",(0,i.jsx)(n.a,{href:"https://toolbox.googleapps.com/apps/dig/#TXT/",children:"here"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For windows, use ",(0,i.jsx)(n.strong,{children:"nslookup"})," command"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"nslookup -type=TXT _acme-challenge.example-xyz.haltdos.com\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For Linux, use ",(0,i.jsx)(n.strong,{children:"dig"})," command"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"dig TXT _acme-challenge.example-xyz.haltdos.com\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Once metioned record value is visible in the public DNS reponse, click on issue certificate. Go to Step 5"}),"\n",(0,i.jsx)(n.p,{children:"For this demonstration, we will proceed with HTTP challenge. For this, we have to perform WAF policy changes to issue SSL certificate."}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"For wildcard domain, only DNS based verification supported"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"challenge-http-dns",src:s(85667).A+"",width:"1637",height:"1014"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Changes for HTTP challenge verification"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For HTTP challenge verification, we have to create below changes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create Web Page with challenge response. To create web page, enter below information."}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"WebPage Name"})," - User friendly name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scope"})," - Choose scope of the content to listener"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Paste HTTP challenge content value in the web page and click on ",(0,i.jsx)(n.strong,{children:"Save Changes"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"page-content",src:s(47790).A+"",width:"1643",height:"936"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Create custom security profile in the MITIGATION mode"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Apps"})," > ",(0,i.jsx)(n.strong,{children:"WAF"})," > ",(0,i.jsx)(n.em,{children:"[Select Listener/FQDN]"})," > ",(0,i.jsx)(n.strong,{children:"Security Profiles"})]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create custom security profile with below filter"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Property Name"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Property Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Profile Name"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"SSL Challenge"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Profile Priority"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"0"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"URI"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.em,{children:"^\\/\\.well-known\\/"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Application Type"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"WEBSERVICE"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Save Changes"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"profile-change",src:s(58241).A+"",width:"1641",height:"926"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on Gear icon on the security profile named as ",(0,i.jsx)(n.strong,{children:"SSL Challenge"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Disable Signature Validations"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Change Operation Mode to ",(0,i.jsx)(n.strong,{children:"MITIGATION"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Save Changes"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Rules"})," > ",(0,i.jsx)(n.strong,{children:"Firewall Rules"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create firewall policy as follows"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Property Name"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Property Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Rule Name"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"SSL Challenge"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Rule Description"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"SSL Challenge"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Rule Priority"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"0"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"URI"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:".*"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Method"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"ALL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Rule Action"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Send Custom Response"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Match Condition"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Pattern Exists"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Match Pattern"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:".*"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Save Changes"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.p,{children:"If Redirection policy exists for HTTP to HTTPs or external URL on WAF, perform below change"}),(0,i.jsxs)(n.p,{children:["Change ",(0,i.jsx)(n.strong,{children:"Match URL"})," parameter:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"^http://example-xyz.hltdos.com/(.*)$\n"})}),(0,i.jsx)(n.p,{children:"to"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"^http://example-xyz.hltdos.com/(?!\\.well-known\\/)(.*)$\n"})})]}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsxs)(n.li,{children:["Verify  challenge , copy the URL from the ",(0,i.jsx)(n.strong,{children:"Challenge page"})," and open it in the browser."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"page-content",src:s(76899).A+"",width:"1295",height:"1031"})}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsx)(n.li,{children:"Click on verify challenge and wait for challenge completion."}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"We have succesfully issued certificate from Let's Encrypt."})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ssl-settings",src:s(47966).A+"",width:"1639",height:"938"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Remove changes after challenge verification"}),(0,i.jsx)(n.br,{}),"\n","Remove configuration change or DNS record."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Attach issued SSL certificate:"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Apps"})," > ",(0,i.jsx)(n.strong,{children:"WAF"})," > ",(0,i.jsx)(n.strong,{children:"[Select Listener Name]"})," > ",(0,i.jsx)(n.strong,{children:"SSL Settings"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Update ",(0,i.jsx)(n.strong,{children:"SSL certificate"})," under SSL Settings of the listener and click on ",(0,i.jsx)(n.strong,{children:"Save changes"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ssl-settings",src:s(93095).A+"",width:"1626",height:"945"})}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Verify SSL certificate"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"verif-ssl",src:s(91035).A+"",width:"1334",height:"1033"})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},93095:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/adding-ssl-ffe1472c83a1cf853efef40397532f08.png"}}]);